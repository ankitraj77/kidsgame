<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>ZIM - Code Creativity</title>

    <!-- Welcome to ZIM at https://zimjs.com - Code Creativity!                              -->
    <!-- ZIM runs on the HTML Canvas powered by JavaScript and CreateJS https://createjs.com -->
    <!-- Founded by Inventor Dan Zen - http://danzen.com - Canadian New Media Award Winner   -->
    <!-- ZIM is free to use. You can donate to help improve ZIM at https://zimjs.com/donate  -->

    <script src="https://zimjs.org/cdn/1.2.3/createjs_min.js"></script>
    <script src="https://zimjs.org/cdn/10.6.1/zim.js"></script>
    <!-- use zimjs.com/distill for minified individual functions! -->

    <script>

        // SCALING OPTIONS
        // scaling can have values as follows with full being the default
        // "fit"	sets canvas and stage to dimensions and scales to fit inside window size
        // "outside"	sets canvas and stage to dimensions and scales to fit outside window size
        // "full"	sets stage to window size with no scaling
        // "tagID"	add canvas to HTML tag of ID - set to dimensions if provided - no scaling

        const scaling = "fit"; // this will resize to fit inside the screen dimensions
        const width = 1024;
        const height = 1024;
        const color = '#B2E0DE'; // ZIM colors like green, blue, pink, faint, clear, etc.
        const outerColor = '#B2E0DE'; // any HTML colors like "violet", "#333", etc. are fine to use
        const assets = ['iceblock-1.png', 'iceblock-2.png', 'iceblock-3.png', 'iceblock-4.png', 'iceblock-5.png', 'iceblock-6.png', 'penguin.png']
        const path = 'assets/'
        const frame = new Frame(scaling, width, height, color, outerColor, assets, path);
        frame.on("ready", () => { // ES6 Arrow Function - like function(){}
            zog("ready from ZIM Frame"); // logs in console (F12 - choose console)

            const stage = frame.stage;
            let stageW = frame.width;
            let stageH = frame.height;

            // see https://zimjs.com/learn.html for video and code tutorials
            // see https://zimjs.com/docs.html for documentation
            // see https://zimjs.com/bits.html for 64 Interactive Media techniques

            // put your code here (you can delete this sample code)
            let iceblockContainer = new Container(stageW, stageH).center()
            let stages = [
                {
                    stage: 1,
                    iceblocks: 6,
                }
            ]
            let iceblocks = []
            // asset('iceblock-1.png').center()
            for (let i = 1; i <= stages[0].iceblocks; i++) {
                iceblocks[i] = asset('iceblock-' + i + '.png').centerReg()

                let x = rand(0, stageW - iceblocks[i].width);
                let y = rand(stageH - iceblocks[i].height, 0);
                iceblocks[i].pos(x, y)
            }
            // zog(iceblocks)
            let penguin = asset('penguin.png').sca(0.2).addTo().drag();


            Ticker.add(function () {
                // MOVE APART ICEBERGS
                for (let i = 1; i < iceblocks.length; i++) {
                    for (let j = i; j < iceblocks.length; j++) {
                        if (iceblocks[i].hitTestBounds(iceblocks[j])) {
                            iceblocks[i].x++
                            iceblocks[i].y++
                            iceblocks[j].x--
                            iceblocks[j].y--
                        }
                    }
                }

            })

            // new Tile({
            //     obj: series(asset('iceblock-1.png'), asset('iceblock-2.png'), asset('iceblock-3.png'), asset('iceblock-4.png')),
            //     col: 2,
            //     rows: 2,
            //     spacingH: 20,
            //     spacingV: 20
            // }).center()


            stage.update(); // this is needed to show any changes

        }); // end of ready

    </script>

    <meta name="viewport" content="width=device-width, user-scalable=no" />

</head>

<body>
    <!-- canvas with id="myCanvas" is made by zim Frame -->
</body>

</html>